### 单元测试

#### 基本知识
1. [可测试性设计](https://fifsky.com/article/102)
1. [关于整洁架构(clean architecture)的一些思考](https://fifsky.com/article/99)
1. [检查php和phpunit版本兼容性](https://phpunit.de/supported-versions.html)
1. 打开错误输出命令（默认测试用例的echo 是不打印的）：phpunit -v 或者 phpunit --verbose
1. 生成html报告命令：phpunit --coverage-html report

#### 模板方法
1. setUpBeforeClass： 测试用例类的第一个测试运行之前执行
1. tearDownAfterClass： 测试用例类的最后一个测试运行之后执行
1. setUp: 每个测试方法运行之前执行
1. tearDown： 每个测试方法运行之后执行

#### 依赖关系和数据提供器（测试方法的注解）
1. [PHP单元测试](https://myyphp.github.io/2018/05/02/PHP%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95-%E4%B8%80-%E5%9F%BA%E7%A1%80/)
1. 依赖关系注解：@depends testOne表示将testOne的返回值当作传参使用
1. 数据提供器注解：@dataProvider dataProvider表示将dataProvider的返回值当作传参使用，第一维的元素为该函数参数列表

#### 基境(fixture)
1. [基境](https://phpunit.readthedocs.io/zh_CN/latest/fixtures.html)
1. setUp() 是创建测试所用对象的地方
1. tearDown() 是清理测试所用对象的地方

#### 测试替身之桩件(Stub)
1. [测试替身](https://phpunit.readthedocs.io/zh_CN/latest/test-doubles.html)
1. [PHPUnit单元测试对桩件（stub）和仿件对象（Mock）的理解](https://blog.csdn.net/loophome/article/details/52198716)
1. 创建桩件：$stub = $this->createMock(SomeClass::class)
1. 配置桩件：$stub->expects($this->any())->method('doSomething')->willReturn('foo')
1. 使用桩件：$this->assertEquals('foo', $stub->doSomething())

#### 测试替身之仿件对象(Mock)
1. [测试替身](https://phpunit.readthedocs.io/zh_CN/latest/test-doubles.html)
1. 仿件对象远不止是桩件加断言，它可以test测试对象某些方法是否被调用，调用多少次

